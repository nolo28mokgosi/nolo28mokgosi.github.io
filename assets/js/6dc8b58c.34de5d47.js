"use strict";(globalThis.webpackChunknolo_28_mokgosi=globalThis.webpackChunknolo_28_mokgosi||[]).push([[764],{1822(e,t,s){s.r(t),s.d(t,{assets:()=>c,contentTitle:()=>r,default:()=>d,frontMatter:()=>a,metadata:()=>o,toc:()=>l});const o=JSON.parse('{"id":"development/azure/Azure Static Site","title":"Azure Static Site","description":"Problem statement","source":"@site/docs/development/azure/2. Azure Static Site.md","sourceDirName":"development/azure","slug":"/development/azure/azure_static_site","permalink":"/docs/development/azure/azure_static_site","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_label":"Azure Static Site","slug":"azure_static_site","sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Firebase Token Validation in Azure","permalink":"/docs/development/azure/jwttokenvalidationonazurefunction"},"next":{"title":"Containerised website in Azure","permalink":"/docs/development/azure/websiteOnAzureContainerisedApps"}}');var i=s(4848),n=s(8453);const a={sidebar_label:"Azure Static Site",slug:"azure_static_site",sidebar_position:2},r=void 0,c={},l=[{value:"Problem statement",id:"problem-statement",level:2},{value:"Solution",id:"solution",level:2},{value:"Issues",id:"issues",level:2},{value:"No Organisation Issue",id:"no-organisation-issue",level:3},{value:"Google Domain issue",id:"google-domain-issue",level:3},{value:"Reference",id:"reference",level:2}];function u(e){const t={a:"a",h2:"h2",h3:"h3",li:"li",p:"p",ul:"ul",...(0,n.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h2,{id:"problem-statement",children:"Problem statement"}),"\n",(0,i.jsx)(t.p,{children:"I would like to host a static site on Azure."}),"\n",(0,i.jsx)(t.h2,{id:"solution",children:"Solution"}),"\n",(0,i.jsxs)(t.p,{children:["I have hosted a site on Azure Web App before. This time I wanted to try  Azure Static web. There\u2019s lots of material out there I chose to follow ",(0,i.jsx)(t.a,{href:"https://docs.microsoft.com/en-us/azure/static-web-apps/get-started-portal?pivots=azure-devops&tabs=vanilla-javascript",children:"Miscrosoft documentation"})," with reference to ",(0,i.jsx)(t.a,{href:"https://blog.logrocket.com/azure-static-web-apps-netlify-alternative/",children:"John's blog post"})," and other posts highlighted in the reference section."]}),"\n",(0,i.jsxs)(t.p,{children:["I started of with creating a docusaurus site on my local machine. It's very easy & quick to create. Process documented ",(0,i.jsx)(t.a,{href:"https://docusaurus.io/docs",children:"here."})]}),"\n",(0,i.jsx)(t.p,{children:"I then commited my code on Azure Devops Repo."}),"\n",(0,i.jsxs)(t.p,{children:["According to ",(0,i.jsx)(t.a,{href:"https://docs.microsoft.com/en-us/azure/static-web-apps/get-started-portal?pivots=azure-devops&tabs=vanilla-javascript",children:"Miscrosoft documentation"}),", things suppose to be eazy but that's not the case."]}),"\n",(0,i.jsx)(t.h2,{id:"issues",children:"Issues"}),"\n",(0,i.jsx)(t.p,{children:"2 issues that needs workaround"}),"\n",(0,i.jsx)(t.h3,{id:"no-organisation-issue",children:"No Organisation Issue"}),"\n",(0,i.jsxs)(t.p,{children:["Following ",(0,i.jsx)(t.a,{href:"https://docs.microsoft.com/en-us/azure/static-web-apps/get-started-portal?pivots=azure-devops&tabs=vanilla-javascript",children:"Miscrosoft documentation"}),", you should be able to select your subscription on the organisation dropdown but the functinality does not work.\nGoogling the issue looks like its ",(0,i.jsx)(t.a,{href:"https://docs.microsoft.com/en-us/answers/questions/921909/azure-static-web-app-connection-with-devops-not-sh.html",children:"common"}),",  best way is to create custom build configuration as specified ",(0,i.jsx)(t.a,{href:"https://docs.microsoft.com/en-us/azure/static-web-apps/build-configuration?tabs=azure-devops",children:"here"}),".\nI got the build idea from ",(0,i.jsx)(t.a,{href:"https://hendrikbulens.com/2020/06/01/automically-deploy-a-static-website-to-azure-app-service-using-azure-devops/",children:"hendrik"})]}),"\n",(0,i.jsx)(t.h3,{id:"google-domain-issue",children:"Google Domain issue"}),"\n",(0,i.jsxs)(t.p,{children:["According to ",(0,i.jsx)(t.a,{href:"https://docs.microsoft.com/en-us/azure/static-web-apps/custom-domain?tabs=azure-dns#add-domain-using-txt-record-validation",children:"Microsoft"}),", google domains do not support domain records that affect how you configure your apex domain. Therefore we need to delegate our domain to azure. In summary we have to"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Create Azure DNS"}),"\n",(0,i.jsx)(t.li,{children:"In google domain, setup custom name servers"}),"\n",(0,i.jsx)(t.li,{children:"In Azure static app, add a custom domain"}),"\n",(0,i.jsxs)(t.li,{children:["Back to Azure DNS you need to add TXT and A or ALIAS record\nAll details well documented on ",(0,i.jsx)(t.a,{href:"https://manueljavier.com/posts/setting_up_a_domain_name_for_an_azure_static_web_app/",children:"Manuel's blog"})]}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"reference",children:"Reference"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["#1: ",(0,i.jsx)(t.a,{href:"https://subhankarsarkar.com/hosting-static-website-with-serverless-backend-free-hosting-in-azure-static-web-app/",children:"https://subhankarsarkar.com/hosting-static-website-with-serverless-backend-free-hosting-in-azure-static-web-app/"})]}),"\n",(0,i.jsxs)(t.li,{children:["#2: ",(0,i.jsx)(t.a,{href:"https://hendrikbulens.com/2020/06/01/automically-deploy-a-static-website-to-azure-app-service-using-azure-devops/",children:"https://hendrikbulens.com/2020/06/01/automically-deploy-a-static-website-to-azure-app-service-using-azure-devops/"})]}),"\n",(0,i.jsxs)(t.li,{children:["#3: ",(0,i.jsx)(t.a,{href:"https://github.com/Azure/static-web-apps/issues/5",children:"https://github.com/Azure/static-web-apps/issues/5"})]}),"\n",(0,i.jsxs)(t.li,{children:["#4: Deploying angular : ",(0,i.jsx)(t.a,{href:"https://sajeetharan.com/2021/04/02/azure-static-web-apps-with-azure-devops/",children:"https://sajeetharan.com/2021/04/02/azure-static-web-apps-with-azure-devops/"})]}),"\n",(0,i.jsxs)(t.li,{children:["#5: ",(0,i.jsx)(t.a,{href:"https://docs.microsoft.com/en-us/answers/questions/548829/azure-static-web-apps-with-google-domains-dns.html",children:"https://docs.microsoft.com/en-us/answers/questions/548829/azure-static-web-apps-with-google-domains-dns.html"})]}),"\n"]})]})}function d(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}},8453(e,t,s){s.d(t,{R:()=>a,x:()=>r});var o=s(6540);const i={},n=o.createContext(i);function a(e){const t=o.useContext(n);return o.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),o.createElement(n.Provider,{value:t},e.children)}}}]);